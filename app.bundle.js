!function(e){function t(t){for(var o,r,h=t[0],a=t[1],c=t[2],d=0,u=[];d<h.length;d++)r=h[d],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&u.push(n[r][0]),n[r]=0;for(o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o]);for(l&&l(t);u.length;)u.shift()();return s.push.apply(s,c||[]),i()}function i(){for(var e,t=0;t<s.length;t++){for(var i=s[t],o=!0,h=1;h<i.length;h++){var a=i[h];0!==n[a]&&(o=!1)}o&&(s.splice(t--,1),e=r(r.s=i[0]))}return e}var o={},n={0:0},s=[];function r(t){if(o[t])return o[t].exports;var i=o[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=o,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(i,o,function(t){return e[t]}.bind(null,o));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="";var h=window.webpackJsonp=window.webpackJsonp||[],a=h.push.bind(h);h.push=t,h=h.slice();for(var c=0;c<h.length;c++)t(h[c]);var l=a;s.push([8,2]),i()}({1:function(e,t){},3:function(e,t){},8:function(e,t,i){"use strict";i.r(t);class o{constructor(e,t,i,o){this._x=e,this._y=t,this.radius=i,this.color=o,this._explicitDecay=!1,this._decayDuration=1,this._ownConnections=[],this._isDecaying=!1,this._isOffscreen=!1,this._opacity=0,this.invalidateOffScreen()}get x(){return this._x}get y(){return this._y}setOwnConnections(e){this._ownConnections=e}setDecaying(e){this._explicitDecay=!0,this._opacity=1,void 0!==e&&(this._decayDuration=e)}reinitialize(e,t){this._x=e,this._y=t,this.invalidateOffScreen()}update(e){if(this._isDecaying?(this._opacity-=e/this._decayDuration,this._opacity<0&&(this._opacity=0)):(this._opacity+=.5*e,this._opacity>=1&&(this._opacity=1)),!this.updatePosition(e))return!1;this.invalidateOffScreen(),this._isDecaying=this._explicitDecay||this.isOffscreen;let t=!1;return this._ownConnections.forEach(i=>{t=i.update(e)||t}),t}invalidateOffScreen(){this._x>innerWidth||this._x<0||this._y>innerHeight||this._y<0?this._isOffscreen=!0:this._isOffscreen=!1}draw(e){e.beginPath(),e.arc(this._x,this._y,this.radius,0,2*Math.PI,!1),e.globalAlpha=this._opacity,e.fillStyle=this.color,e.fill(),e.closePath(),this._ownConnections.forEach(t=>t.draw(e))}get isOffscreen(){return this._isOffscreen}get isVisible(){return this._opacity>0}get opacity(){return this._opacity}}class n extends o{constructor(e,t,i,o){super(e,t,i,o),this._moved=!1}updatePosition(e){return!!this._moved&&(this._moved=!1,!0)}move(e,t){this._x=e,this._y=t,this._moved=!0}}class s extends o{constructor(e,t,i,o,n,s){super(e,t,i,o),this.velocity=n,this.acceleration=s}reinitialize(e,t){super.reinitialize(e,t),this.velocity.x=0,this.velocity.y=0}updatePosition(e){return!(0===this.velocity.x&&0===this.velocity.y&&!this.acceleration)&&(this.acceleration&&(this.velocity.x+=this.acceleration.x*e,this.velocity.y+=this.acceleration.y*e),this._x+=this.velocity.x*e,this._y+=this.velocity.y*e,!0)}}const r=document.querySelector("canvas"),h=r.getContext("2d");r.width=innerWidth,r.height=innerHeight;const a={x:-1,y:-1};let c=!1;addEventListener("mousemove",e=>{a.x=e.clientX,a.y=e.clientY}),addEventListener("mousedown",e=>{c=!0}),addEventListener("mouseup",e=>{c=!1}),addEventListener("resize",()=>{r.width=innerWidth,r.height=innerHeight});const l=new Set;let d=0;let u=!0,p=!1,_=performance.now();!function e(t){requestAnimationFrame(()=>e()),p=!1;const i=performance.now();let o=i-_;_=i,u&&(u=!1,o=1e3/d);let n=t;l.forEach(e=>{n=e.update(o/1e3)||n}),n&&(h.clearRect(0,0,r.width,r.height),l.forEach(e=>{e.draw(h)}));const s=performance.now()-i;d-=d/30,d+=100/s/30,isNaN(d)?d=0:d>60&&(d=60)}(!0),setInterval(()=>{p&&(u=!0),p=!0},200);class y{constructor(e,t,i){this.reinitialize(e,t,i)}reinitialize(e,t,i){this._ownerNode=e,this._peerNode=t,this.width=i,this._opacity=0}get peer(){return this._peerNode}draw(e){if(!this.isVisible)return;let t;if(this._ownerNode.color===this._peerNode.color)t=this._ownerNode.color;else{const i=e.createLinearGradient(this._ownerNode.x,this._ownerNode.y,this._peerNode.x,this._peerNode.y);i.addColorStop(0,this._ownerNode.color),i.addColorStop(1,this._peerNode.color),t=i}e.beginPath(),e.globalAlpha=this._opacity,e.strokeStyle=t,e.lineWidth=this.width,e.moveTo(this._ownerNode.x,this._ownerNode.y),e.lineTo(this._peerNode.x,this._peerNode.y),e.stroke(),e.closePath()}update(e){if(this.isPeerDead)return!1;const t=this.isVisible,i=Math.abs(this._peerNode.x-this._ownerNode.x),o=Math.abs(this._peerNode.y-this._ownerNode.y);if(o>=150||i>=150)this._opacity=0;else{const e=Math.sqrt(Math.pow(i,2)+Math.pow(o,2));e>=150?this._opacity=0:(this._opacity=1-e/150,this._opacity>1&&(this._opacity=1),this._opacity>this._ownerNode.opacity&&(this._opacity=this._ownerNode.opacity),this._opacity>this._peerNode.opacity&&(this._opacity=this._peerNode.opacity))}return this.isVisible||t!=this.isVisible}get isVisible(){return!this.isPeerDead&&this._opacity>0}get isPeerDead(){return!this._peerNode.isVisible}}var f=i(0);function w(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function N(e,t,i=2){const o=Math.pow(1,i);let n=0;for(;0===n;)n=Math.random()*o*(t-e+1)+e*o;return n/=o,n}class v{static StillNode(){return new n(0,0,2,"white")}static EdgeNode(){let e,t,i;do{const o=w(0,3);0===o||1===o?(t=0===o?1:innerWidth-1,i=N(1,innerHeight-1)):(t=N(1,innerWidth-1),i=2===o?1:innerHeight-1),e=new s(t,i,2,"white",new f.Point(N(-60,60),N(-60,60)))}while(e.isOffscreen);return e}static RandomNode(){let e;do{e=new s(N(1,innerWidth-1),N(1,innerHeight-1),2,"white",new f.Point(N(-60,60),N(-60,60)))}while(e.isOffscreen);return e}static FountainNode(){let e,t=a.x,i=a.y;return e=new s(t,i,2,"white",new f.Point(2*N(-60,60),2*N(-60,60)),new f.Point(2*N(-60,60),2*N(-60,60))),e}static GravityNode(){let e,t=a.x,i=a.y;return e=new s(t,i,2,"white",new f.Point(0,60),new f.Point(N(-10,10),N(30,60))),e}}l.add(new class{constructor(){this._nodes=[];for(let e=0;e<300;++e)this.tryCreateNewNode();this._mouseNode=this.createNode(v.StillNode),setInterval(()=>{this.tryCreateNewNode()},50)}createNode(e){const t=e();return t.setOwnConnections(this._nodes.map(e=>new y(t,e,2))),this._nodes.push(t),t}draw(e){this._nodes.forEach(t=>t.draw(e)),e.globalAlpha=1,e.strokeStyle="white",e.fillStyle="white",e.fillText("Nodes: "+this._nodes.length,0,15),e.fillText("FPS: "+d.toFixed(2),0,45)}update(e){this._mouseNode.move(a.x,a.y);for(let t=0;t<this._nodes.length;++t){const i=this._nodes[t];i.update(e),i.isVisible||this._mouseNode==i||(i.setOwnConnections([]),this._nodes.splice(t,1),--t)}return!0}tryCreateNewNode(){if(c){const e=this.createNode(v.FountainNode);e.color=function(){let e="#";for(let t=0;t<6;t++)e+="0123456789ABCDEF"[w(0,15)];return e}(),e.setDecaying(N(1,3))}else d>=15&&!u&&this._nodes.length<600&&this.createNode(v.RandomNode)}})}});
//# sourceMappingURL=app.bundle.js.map